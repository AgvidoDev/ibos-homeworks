# Домашнее задание к занятию «Программирование на Go - основы языка и типовые конструкции»

В качестве результата пришлите ответы на вопросы в личном кабинете студента на сайте [netology.ru](https://netology.ru).

Перед выполнением задачи удостоверьтесь, что вы согласно инструкции установили:
1. [Компилятор языка Go](go-installation.md)
1. [GoLand](goland-installation.md)*

Кроме того, ознакомились с тем, [как открывать терминал в GoLand](terminal.md).

**Важно**: GoLand устанавливать не обязательно (но очень желательно), вы можете набирать текст программ в любом текстовом редакторе и запускать из консоли командой: `go run main.go`.

### Установка Go в VM

Для установки в виртуальную машину Linux можно воспользоваться следующей командой:
```shell
sudo snap install go --classic
```
После чего нужно проверить успешность установки командой `go version`.

## Задача "Syscall"

**Важно**: данную ДЗ нужно выполнять в ОС Linux

### Легенда

В Go есть пакет syscall, который позволяет выполнять системные вызовы.

В этом пакете есть есть функция `Kill` (`man kill`), которая позволяет из вашего процесса посылать сигналы другим процессам.

<details>
<summary>Что ещё за сигналы?</summary>

Различные процессы в ОС могут взаимодействовать друг с другом (IPC - Inter Process Communication) посредством отправки сигналов.
</details>

Соответственно, один процесс отправляет другом сигнал, второй его получает и как-то на это реагирует.

Ваша задача: написать небольшое приложение на Go, которое позволяет отправлять сигналы целевым процессам и изучить реакцию на эти сигналы.

### Выполнение

1. Создаёте файл `main.go`, в котором есть функция `main` и `package` объявлен как `main` (как на лекции)
1. Прописываете вызов функции `Kill` из пакета `syscall`: `syscall.Kill(pid, signal)`, где:
   1. вместо `pid` надо подставить идентификатор существующего в системе процесса (откройте в одной из консолей редактор nano)
   1. вместо `signal` - сначала `syscall.SIGKILL`, затем `syscall.SIGSEGV`
1. В ответ функция `Kill` вернёт вам ошибку (или `nil` - специальное значение, указывающее, что вызов прошёл без ошибки): `err := syscall.Kill(pid, signal)`
1. Для вывода возможной ошибки на экран используйте функцию `log.Print(err)`

<details>
<summary>Полная программа целиком</summary>

```go
package main

import (
	"log"
	"syscall"
)

func main() {
	err := syscall.Kill(9999, syscall.SIGKILL)
	log.Print(err)
}
```

Где: 
1. 9999 - pid, которому мы отправляем сигнал
2. `syscall.SIGKILL` - какой сигнал мы отправляем
</details>

<details>
<summary>Как узнать PID процесса?</summary>

`ps -A | grep nano`

Объяснение:
1. `ps -A` выводит список всех процессов в виде набор строк
1. `|` перенаправляет вывод команды `ps -A` на вход следующей команде
1. `grep nano` отображает только строки, в которых есть подстрока `nano`

Обратите внимание, если процесс завершится и вы снова запустите процесс, то его PID в большинстве случаев будет другой.
</details>

1. Скомпилируйте программу командой `go build -o killer main.go` (нужно находится в том же каталоге, где находится `main.go`).
1. Запустите программу командой `./killer` (нужно находится в том же каталоге).

### Результаты

В качестве результата пришлите ответы на следующие вопросы:
1. Какое сообщение выводится, если вы указали несуществующий PID? 
1. Что происходит с процессом, при отправке сигнала `syscall.SIGKILL`?
1. Что происходит с процессом, при отправке сигнала `syscall.SIGSEGV`?
1. Что выведет программа `killer`, если попытаться отправить сигналы PID = 1? Что это за процесс с PID = 1?
1. Что произойдёт*, если запустить nano с помощью sudo, а `killer` от лица обычного пользователя?
1. Что произойдёт*, если запустить nano с помощью sudo и `killer` с помощью sudo (`sudo ./killer`)?
1. Что произойдёт, если попытаться отправить сигналы PID = 1 с помощью sudo (`sudo ./killer`)?
1. Проведите небольшое исследование и выясните, за что отвечают сигналы `SIGKILL` и `SIGSEGV`

Примечание*: нужно написать сообщение из консоли, где запущено `nano` и вывод команды `killer`

В качестве результата пришлите ответы на вопросы в личном кабинете студента на сайте [netology.ru](https://netology.ru).
